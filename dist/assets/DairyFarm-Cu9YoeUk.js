import{u as te,r as c,D as ae,j as i,P as re,R as oe,L as ie,E as se,S as ne,T as le,M as de,C as H}from"./index-gIg6QK8U.js";import{D as ce}from"./DairyFarmVisitForm-DQD0mZ9c.js";const v={ScheduleID:"",Location:"",LactationCows:"",DryCows:"",Heifers:"",Calves:"",Buls:"",BodyCondition:"",FeedingPerCow:"",HowTheyGiveForCows:"",UsesConcentrate:!1,WhichCompany:"",IsLocalMix:!1,ListofIngridiant:"",SampleCollection:"",HasForage:!1,TypeOfForage:"",ForageAmount:"",ConcentrateFeedSample:!1,HowManyTimes:"",AmountofWaterProvided:"",ManureScore1:"",ManureScore2:"",ManureScore3:"",ManureScore4:"",Ventilation:"",LightIntensity:"",BeddingType:"",SpaceAvailability:"",VaccinationHistory:"",BreedingHistory:"",BreedingMethod:"",AreTheyUsingNaturalorAI:"",InseminationFrequency:"",CalvingInterval:"",AgeAtFirstCalving:"",AvgMilkProductionPerDay:"",MaxMilkProductionPerCow:"",TotalMilkPerDay:"",MilkSupplyTo:"",MilkPricePerLitter:"",Medication:!1,WhatTypeofMedication:"",IssuesComplaints:"",AnalyzeRequested:"",RecommendationAdvice:"",FeedBackOnAKF:"",AnyRelatedEvidenceImage:"",IsVisitCompleted:!1};function he(){const{user:m,fetchWithAuth:u}=te(),M=m&&(m.EmployeeID||m.employeeId||m.UserID||m.userId||m.userId||m.id||m.ID),[w,k]=c.useState([]),[A,R]=c.useState({}),[P,S]=c.useState(!1),[D,n]=c.useState(null),[U,C]=c.useState(!1),[F,y]=c.useState(null),[a,p]=c.useState(v),[E,N]=c.useState(!1),[x,V]=c.useState(null),[L,B]=c.useState(null),[W,T]=c.useState(!1),[j,b]=c.useState(null);c.useEffect(()=>{f()},[]);const h=ae();c.useEffect(()=>{const t=new URLSearchParams(h.search),o=t.get("visitId")||h.state&&h.state.visitId,e=(t.get("farmType")||h.state&&h.state.farmType||"").toString().toUpperCase();if(console.debug("DairyFarm prefill check",{visitId:o,farmType:e,search:h.search,state:h.state}),!o||e&&e!=="DAIRY")return;let s=!0;return(async()=>{n(null);try{const l=e?`?farmType=${encodeURIComponent(e)}`:"",d=await u({url:`/farm-visit-schedule/form-data/${encodeURIComponent(o)}${l}`,method:"get"}),r=d.data?.data||d.data||null;if(!s)return;if(r){p({ScheduleID:r.ScheduleID||r.ScheduleID||ScheduleID||"",Location:r.Location||r.FarmLocation||"",LactationCows:r.LactationCows??r.LactationCows??"",DryCows:r.DryCows??"",Heifers:r.Heifers??"",Calves:r.Calves??"",Buls:r.Buls??"",BodyCondition:r.BodyCondition??"",FeedingPerCow:r.FeedingPerCow||"",HowTheyGiveForCows:r.HowTheyGiveForCows||r.HowTheyGiveForCos||"",UsesConcentrate:!!r.UsesConcentrate,WhichCompany:r.WhichCompany||"",IsLocalMix:!!r.IsLocalMix,ListofIngridiant:r.ListofIngridiant||"",SampleCollection:r.SampleCollection||"",HasForage:!!r.HasForage,TypeOfForage:r.TypeOfForage||"",ForageAmount:r.ForageAmount??"",ConcentrateFeedSample:!!r.ConcentrateFeedSample,AmountofWaterProvided:r.AmountofWaterProvided||"",ManureScore1:r.ManureScore1??"",ManureScore2:r.ManureScore2??"",ManureScore3:r.ManureScore3??"",ManureScore4:r.ManureScore4??"",Ventilation:r.Ventilation||"",LightIntensity:r.LightIntensity||"",BeddingType:r.BeddingType||"",SpaceAvailability:r.SpaceAvailability||"",VaccinationHistory:r.VaccinationHistory||"",BreedingHistory:r.BreedingHistory||"",BreedingMethod:r.BreedingMethod||"",AreTheyUsingNaturalorAI:r.AreTheyUsingNaturalorAI||"",InseminationFrequency:r.InseminationFrequency||"",CalvingInterval:r.CalvingInterval??"",AgeAtFirstCalving:r.AgeAtFirstCalving??"",HowManyTimes:r.HowManyTimes||"",TypeofFeedwithComplain:r.TypeofFeedwithComplain||"",SampleTaken:!!r.SampleTaken,BatchNumber:r.BatchNumber||"",AvgMilkProductionPerDay:r.AvgMilkProductionPerDay??"",MaxMilkProductionPerCow:r.MaxMilkProductionPerCow??"",TotalMilkPerDay:r.TotalMilkPerDay??"",MilkSupplyTo:r.MilkSupplyTo||"",MilkPricePerLitter:r.MilkPricePerLitter??"",Medication:!!r.Medication,WhatTypeofMedication:r.WhatTypeofMedication||"",IssuesComplaints:r.IssuesComplaints||"",AnalyzeRequested:r.AnalyzeRequested||"",RecommendationAdvice:r.RecommendationAdvice||"",FeedBackOnAKF:r.FeedBackOnAKF||"",AnyRelatedEvidenceImage:r.AnyRelatedEvidenceImage||"",IsVisitCompleted:!!r.IsVisitCompleted});const g=r.DairyFarmVisitId||r.DairyFarmVisitID||r.id||null;y(g)}else p(g=>({...v,VisitId:o})),y(null);C(!0)}catch(l){console.error("prefill dairy from visitId failed",l),p(d=>({...v,VisitId:o})),y(null),C(!0)}})(),()=>{s=!1}},[h.search,h.state]);const f=async()=>{S(!0),n(null);try{const t=await u({url:"/dairy-farm",method:"get"}),o=t.data?.data||t.data||t,e=Array.isArray(o)?o:[];k(e);try{const s=e.map(d=>d.ScheduleID||d.scheduleId||null).filter(Boolean),l=Array.from(new Set(s.map(String)));if(l.length>0){const d={};await Promise.all(l.map(async r=>{try{const g=await u({url:`/farm-visit-schedule/${encodeURIComponent(r)}`,method:"get"}),I=g?.data?.data||g?.data||null;I&&(d[String(r)]=I)}catch{}})),R(r=>({...r,...d}))}}catch{}}catch(t){console.error("fetchList dairy error",t),n({type:"error",text:t.response?.data?.message||t.message||"Failed to load dairy visits"})}finally{S(!1)}},O=()=>{y(null),p(v),C(!0),n(null)},q=async t=>{S(!0),n(null);try{const o=await u({url:`/dairy-farm/${t}`,method:"get"}),e=o.data?.data||o.data;e&&(p({ScheduleID:e.ScheduleID||e.ScheduleID||"",Location:e.Location||e.FarmLocation||"",LactationCows:e.LactationCows??"",DryCows:e.DryCows??"",Heifers:e.Heifers??"",Calves:e.Calves??"",Buls:e.Buls??"",BodyCondition:e.BodyCondition??"",FeedingPerCow:e.FeedingPerCow||"",HowTheyGiveForCows:e.HowTheyGiveForCows||e.HowTheyGiveForCos||"",UsesConcentrate:!!e.UsesConcentrate,WhichCompany:e.WhichCompany||"",IsLocalMix:!!e.IsLocalMix,ListofIngridiant:e.ListofIngridiant||"",SampleCollection:e.SampleCollection||"",HasForage:!!e.HasForage,TypeOfForage:e.TypeOfForage||"",ForageAmount:e.ForageAmount??"",ConcentrateFeedSample:!!e.ConcentrateFeedSample,AmountofWaterProvided:e.AmountofWaterProvided||"",ManureScore1:e.ManureScore1??"",ManureScore2:e.ManureScore2??"",ManureScore3:e.ManureScore3??"",ManureScore4:e.ManureScore4??"",Ventilation:e.Ventilation||"",LightIntensity:e.LightIntensity||"",BeddingType:e.BeddingType||"",SpaceAvailability:e.SpaceAvailability||"",VaccinationHistory:e.VaccinationHistory||"",BreedingHistory:e.BreedingHistory||"",BreedingMethod:e.BreedingMethod||"",AreTheyUsingNaturalorAI:e.AreTheyUsingNaturalorAI||"",InseminationFrequency:e.InseminationFrequency||"",CalvingInterval:e.CalvingInterval??"",AgeAtFirstCalving:e.AgeAtFirstCalving??"",HowManyTimes:e.HowManyTimes||"",TypeofFeedwithComplain:e.TypeofFeedwithComplain||"",SampleTaken:!!e.SampleTaken,BatchNumber:e.BatchNumber||"",AvgMilkProductionPerDay:e.AvgMilkProductionPerDay??"",MaxMilkProductionPerCow:e.MaxMilkProductionPerCow??"",TotalMilkPerDay:e.TotalMilkPerDay??"",MilkSupplyTo:e.MilkSupplyTo||"",MilkPricePerLitter:e.MilkPricePerLitter??"",Medication:!!e.Medication,WhatTypeofMedication:e.WhatTypeofMedication||"",IssuesComplaints:e.IssuesComplaints||"",AnalyzeRequested:e.AnalyzeRequested||"",RecommendationAdvice:e.RecommendationAdvice||"",FeedBackOnAKF:e.FeedBackOnAKF||"",AnyRelatedEvidenceImage:e.AnyRelatedEvidenceImage||"",IsVisitCompleted:!!e.IsVisitCompleted}),y(t),C(!0))}catch(o){console.error("openEdit error",o),n({type:"error",text:"Failed to load dairy visit"})}finally{S(!1)}},$=async()=>{try{const t=[],o=a.LactationCows?Number(a.LactationCows):0,e=a.AvgMilkProductionPerDay?Number(a.AvgMilkProductionPerDay):0,s=a.TotalMilkPerDay?Number(a.TotalMilkPerDay):0,l=a.BodyCondition?Number(a.BodyCondition):null;return o||t.push("LactationCows should be provided and > 0"),l==null&&t.push("BodyCondition is recommended"),o>0&&e>0&&s>0&&s>o*e*1.5&&t.push("Total milk exceeds reasonable maximum based on lactation cows and average production"),t.length>0?{valid:!1,messages:t}:{valid:!0}}catch(t){return console.debug("local validation failed",t),{valid:!0}}},z=async t=>{n(null);try{const o=await $();if(!o.valid)return n({type:"error",text:o.messages.join("; ")});const e={ScheduleID:a.ScheduleID||null,Location:a.Location||null,LactationCows:a.LactationCows?Number(a.LactationCows):null,DryCows:a.DryCows?Number(a.DryCows):null,Heifers:a.Heifers?Number(a.Heifers):null,Calves:a.Calves?Number(a.Calves):null,Buls:a.Buls?Number(a.Buls):null,BodyCondition:a.BodyCondition?Number(a.BodyCondition):null,FeedingPerCow:a.FeedingPerCow||null,HowTheyGiveForCows:a.HowTheyGiveForCows||a.HowTheyGiveForCos||null,UsesConcentrate:a.UsesConcentrate?1:0,WhichCompany:a.WhichCompany||null,IsLocalMix:a.IsLocalMix?1:0,ListofIngridiant:a.ListofIngridiant||null,SampleCollection:a.SampleCollection||null,HasForage:a.HasForage?1:0,TypeOfForage:a.TypeOfForage||null,ForageAmount:a.ForageAmount?Number(a.ForageAmount):null,ConcentrateFeedSample:a.ConcentrateFeedSample?1:0,HowManyTimes:a.HowManyTimes||null,AmountofWaterProvided:a.AmountofWaterProvided||null,ManureScore1:a.ManureScore1?Number(a.ManureScore1):null,ManureScore2:a.ManureScore2?Number(a.ManureScore2):null,ManureScore3:a.ManureScore3?Number(a.ManureScore3):null,ManureScore4:a.ManureScore4?Number(a.ManureScore4):null,Ventilation:a.Ventilation||null,LightIntensity:a.LightIntensity||null,BeddingType:a.BeddingType||null,SpaceAvailability:a.SpaceAvailability||null,VaccinationHistory:a.VaccinationHistory||null,BreedingHistory:a.BreedingHistory||null,BreedingMethod:a.BreedingMethod||null,AreTheyUsingNaturalorAI:a.AreTheyUsingNaturalorAI||null,InseminationFrequency:a.InseminationFrequency||null,CalvingInterval:a.CalvingInterval?Number(a.CalvingInterval):null,AgeAtFirstCalving:a.AgeAtFirstCalving?Number(a.AgeAtFirstCalving):null,TypeofFeedwithComplain:a.TypeofFeedwithComplain||null,SampleTaken:a.SampleTaken?1:0,BatchNumber:a.BatchNumber||null,AvgMilkProductionPerDay:a.AvgMilkProductionPerDay?Number(a.AvgMilkProductionPerDay):null,MaxMilkProductionPerCow:a.MaxMilkProductionPerCow?Number(a.MaxMilkProductionPerCow):null,TotalMilkPerDay:a.TotalMilkPerDay?Number(a.TotalMilkPerDay):null,MilkSupplyTo:a.MilkSupplyTo||null,MilkPricePerLitter:a.MilkPricePerLitter?Number(a.MilkPricePerLitter):null,Medication:a.Medication?1:0,WhatTypeofMedication:a.WhatTypeofMedication||null,IssuesComplaints:a.IssuesComplaints||null,AnalyzeRequested:a.AnalyzeRequested||null,RecommendationAdvice:a.RecommendationAdvice||null,FeedBackOnAKF:a.FeedBackOnAKF||null,AnyRelatedEvidenceImage:a.AnyRelatedEvidenceImage||null,IsVisitCompleted:a.IsVisitCompleted?1:0,CreatedBy:M||m?.UserID||m?.id||null,UpdatedBy:M||m?.UserID||m?.id||null};let s;if(F)s=await u({url:`/dairy-farm/${F}`,method:"put",data:e}),n({type:"success",text:"Dairy visit updated"});else{s=await u({url:"/dairy-farm",method:"post",data:e});const l=s?.data?.data||s?.data||null;if(l){const d=l.DairyFarmVisitId||l.DairyFarmVisitID||l.id||null;d&&y(d)}n({type:"success",text:"Dairy visit created"})}try{const l=e.ScheduleID||a.ScheduleID||null;if(l)try{const d=await u({url:`/farm-visit-schedule/${encodeURIComponent(l)}`,method:"get"}),r=d.data?.data||d.data||null,g=r?.ApprovalStatus??r?.Approval??r?.approvalStatus??r?.approvalStatusName??r?.ApprovalStatusName??null,I=r?.VisitStatus??r?.Status??r?.visitStatus??r?.VisitStatusName??r?.status??null,ue=g?String(g).trim().toUpperCase():"",me=I?String(I).trim().toUpperCase():"";n({type:"success",text:F?"Dairy visit updated":"Dairy visit created"})}catch(d){console.warn("failed to fetch schedule before start",d);const r=d?.response?.data?.message||d?.message||"Failed to fetch schedule";n({type:"info",text:`Saved visit but could not verify schedule: ${r}`})}}catch(l){console.warn("start schedule request failed",l);const d=l?.response?.data?.message||l?.message||"Failed to start schedule";n({type:"info",text:`Saved visit but could not start schedule: ${d}`})}C(!1),y(null),p(v),f()}catch(o){console.error("submit dairy error",o),o&&o.response&&o.response.status===400?n({type:"error",text:o.response?.data?.message||"Validation failed"}):n({type:"error",text:o.response?.data?.message||o.message||"Save failed"})}},G=t=>{V(t),N(!0)},K=async()=>{if(x)try{const t=x.DairyFarmVisitId||x.DairyFarmVisitID||x.DairyFarmVisitId||x.id;if(!t)return n({type:"error",text:"Missing id for delete"});await u({url:`/dairy-farm/${t}`,method:"delete"}),N(!1),V(null),f(),n({type:"success",text:"Deleted"})}catch(t){console.error("delete dairy error",t),n({type:"error",text:t.response?.data?.message||t.message||"Delete failed"})}},J=async t=>{if(t)try{B(t),n(null),await u({url:`/dairy-farm/${encodeURIComponent(t)}/complete`,method:"put"}),k(o=>o.map(e=>{const s=e.DairyFarmVisitId||e.DairyFarmVisitID||e.id;return s&&String(s)===String(t)?{...e,IsVisitCompleted:!0}:e}));try{window.dispatchEvent(new CustomEvent("dairyvisit:updated",{detail:{action:"complete",id:t}}))}catch{}n({type:"success",text:"Visit marked completed"});try{const o=w.find(s=>String(s.DairyFarmVisitId||s.DairyFarmVisitID||s.id)===String(t)),e=o&&(o.ScheduleID||o.scheduleId||null);if(e){await u({url:`/farm-visit-schedule/${encodeURIComponent(e)}/complete`,method:"post",data:{}});try{window.dispatchEvent(new CustomEvent("farmvisit:updated",{detail:{action:"update",id:e,data:{VisitStatus:"Completed"}}}))}catch{}}}catch{}f()}catch(o){console.error("complete dairy error",o),n({type:"error",text:o?.response?.data?.message||o?.message||"Failed to complete visit"})}finally{B(null)}},Q=async()=>{n(null);try{const t=await u({url:"/dairy-farm/export",method:"post",data:{Format:"JSON",IncludeImages:!1}}),o=t.data?.data||t.data||t,e=window.open();e&&(e.document.body.innerText=JSON.stringify(o,null,2)),n({type:"success",text:"Export ready (JSON opened in new window)"})}catch(t){console.error("export failed",t),n({type:"error",text:t?.response?.data?.message||t.message||"Export failed"})}},Y=async()=>{if(n(null),!!window.confirm("This will permanently delete incomplete visits older than 30 days. Continue?"))try{const o=await u({url:"/dairy-farm/cleanup",method:"post",data:{OlderThanDays:30,DryRun:!1}}),e=o.data?.data||o.data||o;n({type:"success",text:`Cleanup result: ${JSON.stringify(e)}`}),f()}catch(o){console.error("cleanup failed",o),n({type:"error",text:o?.response?.data?.message||o.message||"Cleanup failed"})}},X=async()=>{if(n(null),!!window.confirm("Mark all visible visits as completed?"))try{const o=w.map(s=>s.DairyFarmVisitId||s.DairyFarmVisitID||s.id).filter(Boolean);if(o.length===0)return n({type:"error",text:"No visits to update"});const e=await u({url:"/dairy-farm/bulk-complete",method:"post",data:{DairyFarmVisitIds:o,IsVisitCompleted:!0,UpdatedBy:M}});n({type:"success",text:"Visits updated"}),f()}catch(o){console.error("bulk complete failed",o),n({type:"error",text:o?.response?.data?.message||o.message||"Bulk update failed"})}},Z=()=>i.jsxs("svg",{className:"animate-spin h-4 w-4 text-teal-500 inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),_=t=>{b(t),T(!0)},ee=async()=>{try{if(!j)return;T(!1),await J(j)}finally{b(null)}};return i.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-screen",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dairy Farm Visits"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white rounded",children:[i.jsx(re,{size:16})," New Visit"]}),i.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-2 bg-white border rounded",children:[i.jsx(oe,{size:14})," Refresh"]}),i.jsx("button",{onClick:X,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded",children:"Bulk Complete"}),i.jsx("button",{onClick:Q,className:"flex items-center gap-2 px-3 py-2 bg-yellow-500 text-white rounded",children:"Export"}),i.jsx("button",{onClick:Y,className:"flex items-center gap-2 px-3 py-2 bg-red-500 text-white rounded",children:"Cleanup"})]})]}),D&&i.jsx("div",{className:`mb-4 p-3 rounded ${D.type==="error"?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:D.text}),i.jsx("div",{className:"bg-white rounded-lg shadow overflow-auto",children:i.jsxs("table",{className:"min-w-full text-sm text-left text-gray-700",children:[i.jsx("thead",{className:"bg-gray-100 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"#"}),i.jsx("th",{className:"px-4 py-3",children:"Visit Code"}),i.jsx("th",{className:"px-4 py-3",children:"Farm"}),i.jsx("th",{className:"px-4 py-3",children:"Location"}),i.jsx("th",{className:"px-4 py-3",children:"Advisor"}),i.jsx("th",{className:"px-4 py-3",children:"Avg Milk (L/day)"}),i.jsx("th",{className:"px-4 py-3",children:"Total Milk (L/day)"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:P?i.jsx("tr",{children:i.jsx("td",{colSpan:8,className:"p-6 text-center",children:i.jsx(ie,{})})}):w.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:8,className:"p-6 text-center text-gray-500",children:"No dairy visits found."})}):w.map((t,o)=>i.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3",children:o+1}),i.jsx("td",{className:"px-4 py-3",children:(()=>{const e=t.ScheduleID||t.scheduleId||null,s=e&&A[String(e)]||null;return s?.VisitCode||s?.VisitCodeName||s?.Code||t.VisitCode||null||t.DairyFarmVisitId||""})()}),i.jsx("td",{className:"px-4 py-3",children:(()=>{const e=t.ScheduleID||t.scheduleId||null,s=e&&A[String(e)]||null;return s?.FarmName||s?.FarmCode||t.FarmName||t.FarmCode||t.Farm&&(t.Farm.FarmCode||t.Farm.FarmName||t.Farm.Name)||""})()}),i.jsx("td",{className:"px-4 py-3",children:t.Location||t.FarmLocation||""}),i.jsx("td",{className:"px-4 py-3",children:(()=>{const e=t.ScheduleID||t.scheduleId||null,s=e&&A[String(e)]||null;return s?.AdvisorName||t.AdvisorName||s&&s.Advisor&&(s.Advisor.Name||s.AdvisorName)||t.Advisor&&(t.Advisor.Name||t.AdvisorName)||t.AdvisorID||t.AdvisorId||t.AssignTo||t.AssignedTo||t.DoctorName||t.Doctor||""})()}),i.jsx("td",{className:"px-4 py-3",children:t.AvgMilkProductionPerDay??""}),i.jsx("td",{className:"px-4 py-3",children:t.TotalMilkPerDay??""}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("div",{className:"flex items-center justify-center gap-1",children:(()=>{const e=t.IsVisitCompleted===!0||t.IsVisitCompleted===1||String(t.IsVisitCompleted)==="1"||String(t.IsVisitCompleted).toLowerCase()==="true",s=`p-2 text-gray-500 rounded-full ${e?"opacity-60 cursor-not-allowed":"hover:text-indigo-600 hover:bg-gray-200"}`,l=`p-2 text-gray-500 rounded-full ${e?"opacity-60 cursor-not-allowed":"hover:text-red-600 hover:bg-gray-200"}`;return i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>!e&&_(t.DairyFarmVisitId||t.DairyFarmVisitID||t.id),disabled:e||L===(t.DairyFarmVisitId||t.DairyFarmVisitID||t.id),className:`p-2 text-green-600 rounded-full ${e?"opacity-60 cursor-not-allowed":"hover:text-white hover:bg-green-600"}`,"aria-disabled":e,title:"Complete Visit",children:L===(t.DairyFarmVisitId||t.DairyFarmVisitID||t.id)?i.jsx(Z,{}):i.jsx(se,{size:16})}),i.jsx("button",{onClick:()=>!e&&q(t.DairyFarmVisitId||t.DairyFarmVisitID||t.id),disabled:e,className:s,"aria-disabled":e,children:i.jsx(ne,{size:16})}),i.jsx("button",{onClick:()=>!e&&G(t),disabled:e,className:l,"aria-disabled":e,children:i.jsx(le,{size:16})})]})})()})})]},t.DairyFarmVisitId||o))})]})}),i.jsx(de,{open:U,onClose:()=>{C(!1),y(null),p(v)},title:F?"Edit Dairy Visit":"New Dairy Visit",children:i.jsx(ce,{form:a,onChange:t=>p(t),onSave:()=>{z()},onCancel:()=>{C(!1),y(null),p(v)},loading:P})}),i.jsx(H,{open:E,title:"Confirm Deletion",onCancel:()=>N(!1),onConfirm:K,children:i.jsx("p",{className:"text-gray-600",children:"Are you sure you want to delete this dairy visit?"})}),i.jsx(H,{open:W,title:"Confirm Complete Visit",onCancel:()=>{T(!1),b(null)},onConfirm:ee,children:i.jsx("p",{className:"text-gray-600",children:"Mark this visit as completed? This action will set the visit status to completed."})})]})}export{he as default};
